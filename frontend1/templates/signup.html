<!-- signup.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sign Up - QuizBot</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='login.css') }}" />
</head>
<body class="auth-page">
  <div class="auth-container">
    <h2>Create an Account</h2>
    <form id="signupForm"method="POST" action="/signup" novalidate>
      <div class="error-message" id="errorMsg"></div>
      <input type="text" name="name" placeholder="Name" required />
      <input type="email" name="email" placeholder="Email" required />
      <input type="password" name="password" placeholder="Password" required />
      <div id="strengthMeter" class="strength-meter"></div>
      <input type="password" id="confirmPassword" placeholder="Confirm Password" required />
      <button type="submit">Sign Up</button>
      <p>Already have an account?  <a href="{{ url_for('login') }}">Login</a></p>
    </form>
  </div>

  <script>
    if (localStorage.getItem("isLoggedIn") === "true") {
      window.location.href = "ai.html";
    }

    // const password = document.getElementById("password");
    // const confirmPassword = document.getElementById("confirmPassword");
    // const togglePassword = document.getElementById("togglePassword");
    // const strengthMeter = document.getElementById("strengthMeter");

    // togglePassword.addEventListener("change", () => {
    //   const type = togglePassword.checked ? "text" : "password";
    //   password.type = type;
    //   confirmPassword.type = type;
    // });

    // password.addEventListener("input", () => {
    //   const val = password.value;
    //   let strength = 0;
    //   if (val.length >= 8) strength++;
    //   if (/[A-Z]/.test(val)) strength++;
    //   if (/[0-9]/.test(val)) strength++;
    //   if (/[\W]/.test(val)) strength++;
    //   strengthMeter.className = 'strength-meter';
    //   strengthMeter.textContent = ["Weak", "Fair", "Good", "Strong"][strength - 1] || "";
    //   strengthMeter.classList.add(strengthMeter.textContent.toLowerCase());
    // });

    // document.getElementById('signupForm').addEventListener('submit', function (e) {
    //   e.preventDefault();
    //   const name = document.getElementById('name');
    //   const email = document.getElementById('email');
    //   const password = document.getElementById('password');
    //   const confirmPassword = document.getElementById('confirmPassword');
    //   const errorMsg = document.getElementById('errorMsg');

    //   [name, email, password, confirmPassword].forEach(input => input.classList.remove('error'));
    //   errorMsg.style.display = "none";

    //   if (!name.value.trim() || !email.value.trim() || !password.value || !confirmPassword.value) {
    //     errorMsg.textContent = "Please fill in all fields.";
    //     errorMsg.style.display = "block";
    //     return;
    //   }

    //   if (!/^\S+@\S+\.\S+$/.test(email.value)) {
    //     errorMsg.textContent = "Invalid email format.";
    //     errorMsg.style.display = "block";
    //     return;
    //   }

    //   if (password.value.length < 8) {
    //     errorMsg.textContent = "Password must be at least 8 characters.";
    //     errorMsg.style.display = "block";
    //     return;
    //   }

    //   if (password.value !== confirmPassword.value) {
    //     errorMsg.textContent = "Passwords do not match.";
    //     errorMsg.style.display = "block";
    //     return;
    //   }

    //   const user = { name: name.value.trim(), email: email.value.trim(), password: password.value };
    //   localStorage.setItem('quizbotUser', JSON.stringify(user));
    //   alert("Signup successful! Please log in.");
    //   window.location.href = "login.html";
    // });
  </script>
</body>
</html>
